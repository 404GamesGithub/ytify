export default t=>new Promise(((e,r)=>new Promise(((e,r)=>{const a=document.createElement("canvas"),n=a.getContext("2d"),h=new Image;h.onload=()=>{a.height=h.height,a.width=h.width,n.drawImage(h,0,0),e(n.getImageData(0,0,h.width,h.height).data)},h.crossOrigin='';h.src="string"==typeof t?t:t.src})).then((t=>{const r=t.length/40,a={r:0,g:0,b:0};for(let e=0;e<t.length;e+=40)a.r+=t[e],a.g+=t[e+1],a.b+=t[e+2];const n=[[Math.round(a.r/r),Math.round(a.g/r),Math.round(a.b/r)]].map((t=>Array.isArray(t)?t:t.split(",").map(Number)));return e(1===n.length?n[0]:n)})).catch((t=>r(t)))));